#:import C kivy.utils.get_color_from_hex
#:set Base C("#363636")     #Cinza      - Background
#:set Base_1 C("#FFFFFF")   #Branco     - Letras
#:set Base_2 C("#38D1D6")   #Ciano      - Bot√µes
#:set Base_3 C("#6b6b6b")   #CinzaClaro - Fundo do campo de texto  

<ScreenManagement>:
    TelaDeInicio:
    TelaDeLogin:
    TelaDeRegistro:
    TelaDeRegDigital:
    TelaDePerfil:

<TelaDeInicio>
    MDBoxLayout:
        md_bg_color: Base
        AnchorLayout:
            anchor: 'center'
            MDBoxLayout:
                adaptive_size: True
                orientation:"vertical"
                MDBoxLayout:
                    adaptive_height: True
                    Image:
                        source: 'resources/Logo.png'
                MDBoxLayout:
                    adaptive_height: True
                    Image:
                        source: 'resources/PyEarth.gov.png'
                MDLabel:
                    text: ""
                    id: msgError
                    halign: "center"
                    theme_text_color: "Error"
                MDBoxLayout:
                    adaptive_size: True
                    orientation:"horizontal"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    Botao:
                        text: "Login"
                        on_press:root.login()
                    Espaco:
                    Botao:
                        text: "Register"
                        on_press:root.register()
                    Espaco:
                    Botao:
                        text: "Reg Digital (Teste)"
                        on_press:root.regfinger()
                    Espaco:
                    Botao:
                        text: "Perfil (Teste)"
                        on_press:root.profile()

<TelaDeRegDigital>
    MDBoxLayout:
        md_bg_color: Base
        orientation:'vertical'
        AnchorLayout:
            anchor_x:'left' 
            anchor_y:'top'
            Botao:
                text: "<-"
                on_press: root.back()
            AnchorLayout:
                anchor: 'center'
                MDBoxLayout:
                    adaptive_size: True
                    orientation:"vertical"
                    MDBoxLayout:
                        adaptive_height: True
                        Image:
                            source: 'resources/Logo.png'
                    Espaco:
                    MDLabel:
                        text: ""
                        id: msgError
                        halign: "center"
                        theme_text_color: "Error"
                    Espaco:
                    CampoDeTexto:
                        id:digital_name
                        hint_text: "Digital Name"
                    Espaco:
                    CampoDeTexto:
                        id:fingerprint
                        hint_text: "Fingerprint"
                    Espaco:
                    MDBoxLayout:
                        adaptive_size: True
                        orientation:"horizontal"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        Espaco:
                        Botao:
                            text: "Import"         
                            on_press: root.import_digital()
                            pos_hint: {"center_y": .5}
                        Espaco:
                        Botao:
                            text: "Register"         
                            on_press: root.register_digital()
                            pos_hint: {"center_y": .5}  

<TelaDeLogin>:
    MDBoxLayout:
        md_bg_color: Base
        orientation:'vertical'
        AnchorLayout:
            anchor_x:'left' 
            anchor_y:'top'
            Botao:
                text: "<-"
                on_press: root.back()
            AnchorLayout:
                anchor: 'center'
                MDBoxLayout:
                    adaptive_size: True
                    orientation:"vertical"
                    MDBoxLayout:
                        adaptive_height: True
                        Image:
                            source: 'resources/Logo.png'
                    Espaco:
                    MDLabel:
                        text: ""
                        id: msgError
                        halign: "center"
                        theme_text_color: "Error"
                    Espaco:
                    CampoDeTexto:
                        id:login
                        hint_text: "Login"
                    Espaco:
                    CampoDeTexto:
                        id:password
                        password:True
                        hint_text: "Password"
                    Espaco:
                    MDBoxLayout:
                        adaptive_size: True
                        orientation:"horizontal"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        Botao:
                            text: "Login"
                            on_press:root.login()         

<TelaDeRegistro>:
    MDBoxLayout:
        md_bg_color: Base
        orientation:'vertical'
        AnchorLayout:
            anchor_x:'left' 
            anchor_y:'top'
            Botao:
                text: "<-"
                on_press: root.back()
        AnchorLayout:
            anchor:'center'
            BoxLayout:
                size_hint:None,None
                width:388
                orientation:'vertical'
                BoxLayout:
                    size_hint:None,None
                    width:388
                    Image:
                        source: 'resources/Logo.png'
                Espaco:
                MDLabel:
                    text: ""
                    id: msgError
                    halign: "center"
                    theme_text_color: "Error"       
                Espaco:
                CampoDeTexto:
                    hint_text: "Full name"
                    id:full_name
                Espaco:    
                CampoDeTexto:
                    hint_text: "E-mail"
                    id:email
                Espaco:
                CampoDeTexto:
                    hint_text: "Password"
                    password:True
                    id:password
                Espaco:
                CampoDeTexto:
                    hint_text: "Confirm Password"
                    password:True
                    id:confirm_password
                Espaco:
                MDBoxLayout:
                    adaptive_size: True
                    orientation:"horizontal"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    Espaco:
                    CampoDeTexto:
                        id:fingerprint
                        width:300
                        hint_text: "Fingerprint"
                    Espaco:
                    Botao:
                        text: "Import"         
                        on_press: root.import_digital()
                        pos_hint: {"center_y": .5}
                Espaco:
                Botao:
                    text: "          Register          "         
                    pos_hint: {"center_x": .5, "center_y": .5}
                    on_press: root.register()

<TelaDePerfil>:
    MDBoxLayout:
        md_bg_color: Base
        orientation:'vertical'
        MDBoxLayout:
            adaptive_height: True
            md_bg_color: Base_2
            Image:
                source: 'resources/Logo.png'
                pos_hint: {"center_x": .0, "center_y": .5}
            Label:
                text: ' '
            Label:
                text: ' '
            Label:
                text: ' '
            Label:
                text: ' '
            Label:
                text: 'FULL NAME'
            Label:
                text: ' '
            Label:
                text: ' '
            Label:
                text: ' '
            Label:
                text: ' '
            Botao:
                text: "+"
                on_press:root.regfinger()
        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'top'
            ImagensDigital:
                size_hint_y: None
                adaptive_height: True
                ScrollView:
                    MDGridLayout:
                        cols: 4
                        adaptive_height: True
                        padding: dp(4), dp(4)
                        spacing: dp(4)

                        ImagensDigital:
                            source: "OpenCV/Database/01.jpg"
                            text: "[size=14]Digital 1[/size]"
                            adaptive_size: True
                            adaptive_height: True
                        ImagensDigital:
                            source: "OpenCV/Database/02.jpg"
                            text: "[size=14]Digital 2[/size]"
                            adaptive_size: True
                            adaptive_height: True
                    
<Botao@MDRectangleFlatButton>:
    md_bg_color: Base_2
    text_color: Base_1
<CampoDeTexto@TextInput>:
    size_hint:None,None
    height:32
    width:388
    hint_text_color: Base_1
    background_color: Base_3
    foreground_color: Base_3
    cursor_color: Base_1
    multiline:False
    canvas.before:
        Color:
            rgba: Base_1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
<Espaco@Label>:
    size_hint: None, None
    height: 30
    width: 30

    adaptive_size: True
    md_bg_color:Base_1

<ImagensDigital@SmartTileWithLabel>
    size_hint_y: None
    height: "240dp"

ScrollView:

    MDGridLayout:
        cols: 3
        adaptive_height: True
        padding: dp(4), dp(4)
        spacing: dp(4)

        ImagensDigital:
            source: "OpenCV/Database/01.jpg"
            text: "[size=26]Digital 1[/size]\n[size=14]01.jpg[/size]"

        ImagensDigital:
            source: "OpenCV/Database/02.jpg"
            text: "[size=26]Digital 2[/size]\n[size=14]02.jpg[/size]"
